<div class="content-heading">
   <div>Patients Info
      <small>Patient Information</small>
   </div>
</div>

<div class="row">
   <div class="col-md-12">
      <div class="card card-default">
         <%= search_form_for @q, url: patients_path, html: { method: :get } do |f| %>
         <div class="card-body">
            <fieldset>
               <div class="form-row">
                  <div class="col-md-6">
                     <div class="form-group form-row">
                        <%= f.label :patient_id_eq, "Patient ID", class:"col-md-2 col-form-label" %>
                        <div class="col-lg-8">
                           <%= f.search_field :patient_id_eq, {include_blank: true, id: "patient_id", class: "form-control"} %>
                        </div>
                     </div>
                  </div>
                  <div class="col-md-6">
                     <div class="form-group form-row">
                        <%= f.label :phone_number, "Phone Number", class:"col-md-3 col-form-label" %>
                        <div class="col-lg-8">
                           <%= f.search_field :phone_number_eq, {include_blank: true, id: "phone_number", class: "form-control"} %>
                        </div>
                     </div>
                  </div>
               </div>
            </fieldset>
            <div class="clearfix">
               <div class="float-right">
                  <%= f.submit 'Search', :class=>'btn btn-primary' %>
               </div>
            </div>
         </div>
         <% end %>
      </div>
   </div>
</div>


<div class="container-fluid">
   <div class="card">
      <div class="card-header">
         <div class="card-title">Patients</div>
      </div>
      <div class="card-body">
            <table class="table table-striped table-responsive">
               <thead>
                  <tr>
                     <th>Patient ID#</th>
                     <th>First Name</th>
                     <th>Last Name</th>
                     <th>Sex</th>
                     <th>D.O.B</th>
                     <th>Height</th>
                     <th>Weight</th>
                     <th>Address</th>
                     <th>Phone Number</th>
                     <th>Doctor</th>
                     <th>Actions</th>
                  </tr>
               </thead>
               <tbody>
               <% @patients.each do |patient| %>
                  <tr class="gradeX">
                     <td><a href=<%=patient_path(id: patient.id)%>><%= patient.patient_id %></a></td>
                     <td><%= patient.first_name %></td>
                     <td><%= patient.last_name %></td>
                     <td><%= patient.sex %></td>
                     <td><%= patient.date_of_birth %></td>
                     <td><%= patient.height %></td>
                     <td><%= patient.weight %></td>
                     <td><%= patient.address %></td>
                     <td><%= patient.phone_number %></td>
                     <td><%= patient.doctor.titleize %></td>
                     <td>
                     <% if can? :update, patient %>
                        <%= link_to 'Update', edit_patient_path(patient) %>
                     <% end %>
                     </td>
                  </tr>
               <% end %>
               </tbody>
         </table>
         <%= paginate(@patients) %>
      </div>
   </div>
</div>